(this["webpackJsonpcheck-weather"]=this["webpackJsonpcheck-weather"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(6),c=a.n(l),r=a(1),m=(a(14),a(4)),o=a(8),s=function(e,t,a){t=t||1;var n,i,l=e;l<=4?(n=1,i=l):t<=3?(n=1,i=5):t+2>=l?(n=l-4,i=l):(n=t-2,i=t+2);var c=t-1,r=Math.min(c-1,l-1),s=Object(o.a)(Array(i+1-n).keys()).map((function(e){return n+e}));return s.map((function(e,t){return s[t]=Object(m.a)(Object(m.a)({},a[e-1]),{},{id:e})})),{currentPage:t,totalPages:l,startPage:n,endPage:i,startIndex:c,endIndex:r,pages:s}},d=a(7),u=a.n(d);var v=function(){return i.a.createElement("div",{className:"loading"},i.a.createElement("img",{alt:"loading",src:u.a}))};var f=function(e){var t,a,n,l,c,r=e.isLoaded,m=e.curWeather,o=e.nowDate,s=m.name,d=null===(t=m.main)||void 0===t?void 0:t.temp,u=m.weather&&(null===(a=m.weather[0])||void 0===a?void 0:a.icon),f="https://openweathermap.org/img/wn/".concat(u,"@2x.png"),_=m.weather&&m.weather[0].main,b=null===(n=m.main)||void 0===n?void 0:n.feels_like,E=null===(l=m.main)||void 0===l?void 0:l.pressure,g=null===(c=m.main)||void 0===c?void 0:c.humidity;return i.a.createElement("section",{className:"main-info"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"main-info__city"},s),i.a.createElement("div",{className:"main-info__date"},o),i.a.createElement("div",{className:"main-info__degrees"},i.a.createElement("div",{className:"main-info__icon"},i.a.createElement("img",{src:f,alt:_,title:_})),i.a.createElement("div",{className:"main-info__val"},d," \xb0F")),i.a.createElement("div",{className:"main-info__table"},i.a.createElement("div",{className:"main-info-table__item"},i.a.createElement("div",{className:"main-info-table__name"},"\u0427\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a"),i.a.createElement("div",{className:"main-info-table__val"},b," \xb0F")),i.a.createElement("div",{className:"main-info-table__item"},i.a.createElement("div",{className:"main-info-table__name"},"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),i.a.createElement("div",{className:"main-info-table__val"},E," hPa")),i.a.createElement("div",{className:"main-info-table__item"},i.a.createElement("div",{className:"main-info-table__name"},"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"),i.a.createElement("div",{className:"main-info-table__val"},g,"%")))),!r&&i.a.createElement(v,null))};var _=function(e){var t=e.handleSubmitForm,a=e.inputRef,n=e.errText;return i.a.createElement("div",{className:"form-container"},i.a.createElement("form",{action:"#",onSubmit:t},i.a.createElement("div",{className:"form__title"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 API \u043a\u043b\u044e\u0447"),i.a.createElement("div",{className:"form__alert show"},n),i.a.createElement("input",{ref:a,type:"text",className:n.length?"invalid":"",required:!0}),i.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))};var b=function(e){var t=e.dt_txt,a=e.icon,n=e.main,l=e.temp,c=e.feels_like,r=e.pressure,m=e.humidity,o="https://openweathermap.org/img/wn/".concat(a,"@2x.png");return i.a.createElement("div",{className:"times__item"},i.a.createElement("div",{className:"times-item__title"},t),i.a.createElement("div",{className:"times__degrees"},i.a.createElement("div",{className:"times__icon"},i.a.createElement("img",{src:o,alt:n,title:n})),i.a.createElement("div",{className:"times__val"},l," \xb0F")),i.a.createElement("div",{className:"times-item__table"},i.a.createElement("div",{className:"times-item-table__item"},i.a.createElement("div",{className:"times-item-table__name"},"\u0427\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a"),i.a.createElement("div",{className:"times-item-table__val"},c," \xb0F")),i.a.createElement("div",{className:"times-item-table__item"},i.a.createElement("div",{className:"times-item-table__name"},"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),i.a.createElement("div",{className:"times-item-table__val"},r," hPa")),i.a.createElement("div",{className:"times-item-table__item"},i.a.createElement("div",{className:"times-item-table__name"},"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"),i.a.createElement("div",{className:"times-item-table__val"},m,"%"))))};var E=function(e){var t=e.pager,a=e.setPage;return i.a.createElement("div",{className:"times-pagination"},i.a.createElement("button",{className:1===(null===t||void 0===t?void 0:t.currentPage)?"disabled":"",onClick:function(){return a(t.currentPage-1)}},"Prev"),null===t||void 0===t?void 0:t.pages.map((function(e,n){return i.a.createElement("button",{key:n,title:e.dt_txt,className:(null===t||void 0===t?void 0:t.currentPage)===e.id?"active":"",onClick:function(){return a(e.id)}},null===e||void 0===e?void 0:e.id)})),i.a.createElement("button",{className:(null===t||void 0===t?void 0:t.currentPage)===(null===t||void 0===t?void 0:t.totalPages)?"disabled":"",onClick:function(){return a(t.currentPage+1)}},"Next"))};var g=function(e){var t,a,n,l,c=e.forecastPaginate,r=e.item,m=e.pager,o=e.setPage;return i.a.createElement("section",{className:"times"},void 0!==r?i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"times__title"},"\u041f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430 5 \u0434\u043d\u0435\u0439"),i.a.createElement(b,{activeItem:r,key:null===r||void 0===r?void 0:r.dt,dt:null===r||void 0===r?void 0:r.dt,dt_txt:null===r||void 0===r?void 0:r.dt_txt,icon:(null===r||void 0===r?void 0:r.weather)&&(null===r||void 0===r?void 0:r.weather[0].icon),main:(null===r||void 0===r?void 0:r.weather)&&(null===r||void 0===r?void 0:r.weather[0].main),temp:null===r||void 0===r||null===(t=r.main)||void 0===t?void 0:t.temp,feels_like:null===r||void 0===r||null===(a=r.main)||void 0===a?void 0:a.feels_like,pressure:null===r||void 0===r||null===(n=r.main)||void 0===n?void 0:n.pressure,humidity:null===r||void 0===r||null===(l=r.main)||void 0===l?void 0:l.humidity}),i.a.createElement(E,{forecastPaginate:c,pager:m,setPage:o})):i.a.createElement(v,null))};var p=function(){var e=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)([]),m=Object(r.a)(c,2),o=m[0],s=m[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),v=u[0],f=u[1],_=Object(n.useState)(!1),b=Object(r.a)(_,2),E=b[0],g=b[1],p=Object(n.useState)(""),h=Object(r.a)(p,2),N=h[0],j=h[1];return Object(n.useEffect)((function(){null!==i&&Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?q=Chelyabinsk&appid="+i),fetch("https://api.openweathermap.org/data/2.5/forecast?q=Chelyabinsk&appid="+i)]).then((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];a.ok&&n.ok?(localStorage.setItem("key",""+i),Promise.all([a.json(),n.json()]).then((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];f(a),s(n.list),g(!0)}))):(j("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 API \u043a\u043b\u044e\u0447. ".concat(a.statusText)),localStorage.removeItem("key"),l(null),g(!0))})).catch((function(e){console.log(e)}))}),[i]),[l,i,v,o,E,N,j]}(null),t=Object(r.a)(e,7),a=t[0],l=t[1],c=t[2],m=t[3],o=t[4],d=t[5],u=t[6],v=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)(),m=Object(r.a)(c,2),o=m[0],d=m[1],u=Object(n.useState)(),v=Object(r.a)(u,2),f=v[0],_=v[1],b=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(!(e<1||e>(null===o||void 0===o?void 0:o.totalPages))){var a=s(null===t||void 0===t?void 0:t.length,e,i);return d(a),_(a.pages.find((function(t){return t.id===e}))),o}}),[i]);return Object(n.useEffect)((function(){l(null===e||void 0===e?void 0:e.map((function(e,t){return{id:t,dt:e.dt}})))}),[e]),Object(n.useEffect)((function(){void 0!==i&&b(1)}),[i,b]),[l,b,o,f]}(),b=Object(r.a)(v,4),E=b[0],p=b[1],h=b[2],N=b[3],j=i.a.createRef(),w=function(){var e=new Date;return"".concat(["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][e.getDay()],", ").concat(e.getDate()," ").concat(["\u0434\u0435\u043a\u0430\u0431\u0440\u044f","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f"][e.getMonth()],", ").concat(e.getFullYear())}();return Object(n.useEffect)((function(){var e=localStorage.getItem("key");null!==e&&a(e),o&&E(m)}),[a,m,o,E]),i.a.createElement("main",{className:"App"},i.a.createElement(f,{isLoaded:o,curWeather:c,nowDate:w}),i.a.createElement(g,{item:N,pager:h,setPage:p}),null===localStorage.getItem("key")&&i.a.createElement(_,{handleChangeInput:function(){return u("")},handleSubmitForm:function(e){e.preventDefault(),a(j.current.value)},inputRef:j,errText:d,apiKey:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a.p+"static/media/loading.d8b3f08b.svg"},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.7730cdc8.chunk.js.map